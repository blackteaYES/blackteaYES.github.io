import{_ as e,V as o,W as c,X as n,Y as s,$ as t,a0 as p,C as l}from"./framework-a71e09ed.js";const u="/assets/img/WebMagic/CSDNå›¾ç‰‡ä¸Šä¼ å¤±è´¥.png",i="/assets/img/WebMagic/åšå®¢å›¾ç‰‡ç¤ºä¾‹.png",k="/assets/img/WebMagic/çˆ¬å–åçš„èµ„æº.png",r="/assets/img/WebMagic/æ–‡æ¡£ä¸­çš„ç¬¬ä¸€ä¸ªç”¨ä¾‹.png",d="/assets/img/WebMagic/issues701.png",m="/assets/img/WebMagic/Downloaderæ¥å£å®ç°.png",v="/assets/img/WebMagic/PageProcessorå®ç°.png",b="/assets/img/WebMagic/swagger-mdä¸‹è½½è¯·æ±‚å‚æ•°.png",g="/assets/img/WebMagic/mdä¸‹è½½swagger.png",h="/assets/img/WebMagic/mdæ–‡ä»¶æœ€ç»ˆæ•ˆæœ.png",w="/assets/img/WebMagic/è¯¦æƒ…zipä¸‹è½½æ•ˆæœ.png",y="/assets/img/WebMagic/åˆ—è¡¨zipä¸‹è½½æ•ˆæœ.png",_={},f=n("h1",{id:"springbootæ•´åˆwebmagic",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#springbootæ•´åˆwebmagic","aria-hidden":"true"},"#"),s(" SpringBootæ•´åˆWebMagic")],-1),q=n("h2",{id:"å‰è¨€",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#å‰è¨€","aria-hidden":"true"},"#"),s(" å‰è¨€")],-1),S=n("p",null,"â€ƒâ€ƒä¸ºä»€ä¹ˆæˆ‘è¦æ•´åˆWebMagic ?",-1),C={href:"http://webmagic.io/",target:"_blank",rel:"noopener noreferrer"},x=n("p",null,"â€ƒâ€ƒå› ä¸ºéƒ¨åˆ†ç½‘ç«™å®ƒä¸æ”¯æŒå¤–é“¾å›¾ç‰‡ä¸Šä¼ ,è€Œæˆ‘å·²ç»æŠŠæˆ‘çš„å›¾ç‰‡èµ„æºä¸Šä¼ äº†,æ‰€ä»¥æˆ‘éœ€è¦æŠŠæ‰€æœ‰çš„èµ„æºè¿›è¡Œè·å–æ•´åˆå†åœ¨éƒ¨åˆ†ç½‘ç«™é‡æ–°ä¸Šä¼ ;",-1),j=n("p",null,"â€ƒâ€ƒä¸¾ä¸ªğŸŒ°:",-1),P=n("figure",null,[n("img",{src:u,alt:"å›¾ç‰‡ä¸Šä¼ å¤±è´¥ä¾‹å­",tabindex:"0",loading:"lazy"}),n("figcaption",null,"å›¾ç‰‡ä¸Šä¼ å¤±è´¥ä¾‹å­")],-1),T=n("p",null,"â€ƒâ€ƒçº¢æ¡†é‡Œçš„å°±æ˜¯ä¸Šä¼ å¤±è´¥çš„ã€‚",-1),H=n("p",null,"â€ƒâ€ƒå¾ˆæ— å¥ˆ,äººå®¶ä¸æ”¯æŒå¤–é“¾åœ°å€,é‚£æ²¡æœ‰åŠæ³•,è‡ªå·±é‡æ–°ä¸Šä¼ å§!",-1),D={href:"http://webmagic.io/",target:"_blank",rel:"noopener noreferrer"},E=p('<p>â€ƒâ€ƒå¦‚ä¸‹ğŸŒ°:</p><p>â€‹ <img src="'+i+'" alt="åšå®¢å›¾ç‰‡ç¤ºä¾‹" loading="lazy"></p><p>â€ƒâ€ƒçˆ¬å–åè·å¾—çš„èµ„æºï¼š</p><p>â€‹ <img src="'+k+'" alt="çˆ¬å–åçš„èµ„æº" loading="lazy"></p><h2 id="æ–‡æ¡£è¿­ä»£" tabindex="-1"><a class="header-anchor" href="#æ–‡æ¡£è¿­ä»£" aria-hidden="true">#</a> æ–‡æ¡£è¿­ä»£</h2><table><thead><tr><th style="text-align:center;">version</th><th style="text-align:center;">åŠŸèƒ½</th><th style="text-align:center;">è¯¦ç»†æè¿°</th></tr></thead><tbody><tr><td style="text-align:center;">0.0.1</td><td style="text-align:center;">é€šè¿‡æ•´åˆWebMagicå®ç°äº†é€šç”¨åˆ—è¡¨(å¤šé¡µé¢)åŠè¯¦ç»†å†…å®¹(å•é¡µé¢)çš„é€šç”¨çˆ¬å–æ¥å£</td><td style="text-align:center;">é€šç”¨åˆ—è¡¨(å¤šé¡µé¢æ˜¯æŒ‡åˆ—è¡¨é¡µé¢ä¸­çš„è¯¦æƒ…é¡µ),å•é¡µå°±æ˜¯æŒ‡çš„è¯¦æƒ…é¡µ</td></tr></tbody></table><h2 id="é¡¹ç›®æŠ€æœ¯ç‰ˆæœ¬-æŠ€æœ¯é€‰å‹" tabindex="-1"><a class="header-anchor" href="#é¡¹ç›®æŠ€æœ¯ç‰ˆæœ¬-æŠ€æœ¯é€‰å‹" aria-hidden="true">#</a> é¡¹ç›®æŠ€æœ¯ç‰ˆæœ¬(æŠ€æœ¯é€‰å‹)</h2>',7),z=n("p",null,"jdk - version - 1.8",-1),L=n("p",null,"maven - version - 3.8.1",-1),M=n("p",null,"SpringBoot - version - 2.2.2.RELEASE",-1),A=n("p",null,"Swagger - version - 2.7.0",-1),R=n("p",null,"remark - version - 1.0.0",-1),U=n("p",null,"webmagic - version - 0.7.3",-1),W={href:"https://gitee.com/zjydzyjs/spring-boot-use-case-collection/blob/master/webmagic/pom.xml",target:"_blank",rel:"noopener noreferrer"},N=n("h2",{id:"é¡¹ç›®åœ°å€",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#é¡¹ç›®åœ°å€","aria-hidden":"true"},"#"),s(" é¡¹ç›®åœ°å€")],-1),I={href:"https://gitee.com/zjydzyjs/spring-boot-use-case-collection/tree/master/webmagic",target:"_blank",rel:"noopener noreferrer"},G=n("h2",{id:"å‰ç½®çŸ¥è¯†",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#å‰ç½®çŸ¥è¯†","aria-hidden":"true"},"#"),s(" å‰ç½®çŸ¥è¯†")],-1),B=n("h3",{id:"webmagic-è‡ªä¸»å­¦ä¹ ",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#webmagic-è‡ªä¸»å­¦ä¹ ","aria-hidden":"true"},"#"),s(" WebMagic è‡ªä¸»å­¦ä¹ ")],-1),F={href:"http://webmagic.io/",target:"_blank",rel:"noopener noreferrer"},O={href:"http://webmagic.io/docs/zh/",target:"_blank",rel:"noopener noreferrer"},V={href:"https://github.com/code4craft",target:"_blank",rel:"noopener noreferrer"},X=p('<p>â€ƒâ€ƒå‡è®¾ä½ å·²ç»å­¦ä¹ äº†è¯¥é¡¹ç›®ï¼Œå¯ä»¥ç»§ç»­å­¦ä¹ äº†ã€‚</p><h2 id="webmagic-ç®€å•æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#webmagic-ç®€å•æµ‹è¯•" aria-hidden="true">#</a> WebMagic ç®€å•æµ‹è¯•</h2><p>â€ƒâ€ƒæ–‡æ¡£ä¸­çš„ç¬¬ä¸€ä¸ªç”¨ä¾‹:</p><figure><img src="'+r+`" alt="æ–‡æ¡£ä¸­çš„ç¬¬ä¸€ä¸ªç”¨ä¾‹" tabindex="0" loading="lazy"><figcaption>æ–‡æ¡£ä¸­çš„ç¬¬ä¸€ä¸ªç”¨ä¾‹</figcaption></figure><p>â€ƒâ€ƒä½ å¯ä»¥å†ideaä¸­è¿›è¡Œæœç´¢(å¿«é€ŸæŒ‰ä¸¤æ¬¡<code>shift</code>),è¾“å…¥<strong>GithubRepoPageProcessor</strong>ç±»å°±å¯ä»¥å‘ç°è¿™ä¸ªä½œè€…å·²ç»å†™å¥½çš„ç”¨ä¾‹äº†,æˆ‘ä»¬å¯ä»¥æµ‹è¯•ä¸€ä¸‹ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">us<span class="token punctuation">.</span>codecraft<span class="token punctuation">.</span>webmagic<span class="token punctuation">.</span>processor<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">us<span class="token punctuation">.</span>codecraft<span class="token punctuation">.</span>webmagic<span class="token punctuation">.</span></span><span class="token class-name">Page</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">us<span class="token punctuation">.</span>codecraft<span class="token punctuation">.</span>webmagic<span class="token punctuation">.</span></span><span class="token class-name">Site</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">us<span class="token punctuation">.</span>codecraft<span class="token punctuation">.</span>webmagic<span class="token punctuation">.</span></span><span class="token class-name">Spider</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">us<span class="token punctuation">.</span>codecraft<span class="token punctuation">.</span>webmagic<span class="token punctuation">.</span>processor<span class="token punctuation">.</span></span><span class="token class-name">PageProcessor</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GithubRepoPageProcessor</span> <span class="token keyword">implements</span> <span class="token class-name">PageProcessor</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Site</span> site <span class="token operator">=</span> <span class="token class-name">Site</span><span class="token punctuation">.</span><span class="token function">me</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setRetryTimes</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setSleepTime</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setTimeOut</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">GithubRepoPageProcessor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token class-name">Page</span> page<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        page<span class="token punctuation">.</span><span class="token function">addTargetRequests</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getHtml</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">links</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">regex</span><span class="token punctuation">(</span><span class="token string">&quot;(https://github\\\\.com/[\\\\w\\\\-]+/[\\\\w\\\\-]+)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        page<span class="token punctuation">.</span><span class="token function">addTargetRequests</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getHtml</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">links</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">regex</span><span class="token punctuation">(</span><span class="token string">&quot;(https://github\\\\.com/[\\\\w\\\\-])&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        page<span class="token punctuation">.</span><span class="token function">putField</span><span class="token punctuation">(</span><span class="token string">&quot;author&quot;</span><span class="token punctuation">,</span> page<span class="token punctuation">.</span><span class="token function">getUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">regex</span><span class="token punctuation">(</span><span class="token string">&quot;https://github\\\\.com/(\\\\w+)/.*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        page<span class="token punctuation">.</span><span class="token function">putField</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> page<span class="token punctuation">.</span><span class="token function">getHtml</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">xpath</span><span class="token punctuation">(</span><span class="token string">&quot;//h1[@class=&#39;public&#39;]/strong/a/text()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getResultItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            page<span class="token punctuation">.</span><span class="token function">setSkip</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        page<span class="token punctuation">.</span><span class="token function">putField</span><span class="token punctuation">(</span><span class="token string">&quot;readme&quot;</span><span class="token punctuation">,</span> page<span class="token punctuation">.</span><span class="token function">getHtml</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">xpath</span><span class="token punctuation">(</span><span class="token string">&quot;//div[@id=&#39;readme&#39;]/tidyText()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Site</span> <span class="token function">getSite</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>site<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Spider</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">GithubRepoPageProcessor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addUrl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">&quot;https://github.com/code4craft&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thread</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6),$={href:"https://gitee.com/zjydzyjs/spring-boot-use-case-collection/blob/master/webmagic/src/test/java/com/blacktea/webmagic/demo/WebMagicTest.java",target:"_blank",rel:"noopener noreferrer"},J=p(`<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">void</span> <span class="token function">testDemo1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">Spider</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">GithubRepoPageProcessor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">addUrl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">&quot;https://github.com/code4craft&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">thread</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€ƒâ€ƒè¿è¡Œå¾—åˆ°é”™è¯¯å†…å®¹:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token number">10</span><span class="token operator">:</span><span class="token number">34</span><span class="token operator">:</span><span class="token number">13.307</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">us<span class="token punctuation">.</span>codecraft<span class="token punctuation">.</span>webmagic<span class="token punctuation">.</span>scheduler<span class="token punctuation">.</span></span>QueueScheduler</span> <span class="token operator">-</span> push <span class="token keyword">to</span> <span class="token namespace">queue</span> https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>code4craft
<span class="token number">10</span><span class="token operator">:</span><span class="token number">34</span><span class="token operator">:</span><span class="token number">13.730</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span> <span class="token class-name"><span class="token namespace">us<span class="token punctuation">.</span>codecraft<span class="token punctuation">.</span>webmagic<span class="token punctuation">.</span></span>Spider</span> <span class="token operator">-</span> <span class="token class-name">Spider</span> github<span class="token punctuation">.</span>com started<span class="token operator">!</span>
<span class="token number">10</span><span class="token operator">:</span><span class="token number">34</span><span class="token operator">:</span><span class="token number">13.762</span> <span class="token punctuation">[</span>pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>client<span class="token punctuation">.</span>protocol<span class="token punctuation">.</span></span>RequestAddCookies</span> <span class="token operator">-</span> <span class="token class-name">CookieSpec</span> selected<span class="token operator">:</span> standard
<span class="token number">10</span><span class="token operator">:</span><span class="token number">34</span><span class="token operator">:</span><span class="token number">13.766</span> <span class="token punctuation">[</span>pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>client<span class="token punctuation">.</span>protocol<span class="token punctuation">.</span></span>RequestAuthCache</span> <span class="token operator">-</span> <span class="token class-name">Auth</span> cache not set in the context
<span class="token number">10</span><span class="token operator">:</span><span class="token number">34</span><span class="token operator">:</span><span class="token number">13.766</span> <span class="token punctuation">[</span>pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>conn<span class="token punctuation">.</span></span>PoolingHttpClientConnectionManager</span> <span class="token operator">-</span> <span class="token class-name">Connection</span> request<span class="token operator">:</span> <span class="token punctuation">[</span>route<span class="token operator">:</span> <span class="token punctuation">{</span>s<span class="token punctuation">}</span><span class="token operator">-&gt;</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">:</span><span class="token number">443</span><span class="token punctuation">]</span><span class="token punctuation">[</span>total kept alive<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span> route allocated<span class="token operator">:</span> <span class="token number">0</span> of <span class="token number">100</span><span class="token punctuation">;</span> total allocated<span class="token operator">:</span> <span class="token number">0</span> of <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token number">10</span><span class="token operator">:</span><span class="token number">34</span><span class="token operator">:</span><span class="token number">13.774</span> <span class="token punctuation">[</span>pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>conn<span class="token punctuation">.</span></span>PoolingHttpClientConnectionManager</span> <span class="token operator">-</span> <span class="token class-name">Connection</span> leased<span class="token operator">:</span> <span class="token punctuation">[</span>id<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>route<span class="token operator">:</span> <span class="token punctuation">{</span>s<span class="token punctuation">}</span><span class="token operator">-&gt;</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">:</span><span class="token number">443</span><span class="token punctuation">]</span><span class="token punctuation">[</span>total kept alive<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span> route allocated<span class="token operator">:</span> <span class="token number">1</span> of <span class="token number">100</span><span class="token punctuation">;</span> total allocated<span class="token operator">:</span> <span class="token number">1</span> of <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token number">10</span><span class="token operator">:</span><span class="token number">34</span><span class="token operator">:</span><span class="token number">13.775</span> <span class="token punctuation">[</span>pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>execchain<span class="token punctuation">.</span></span>MainClientExec</span> <span class="token operator">-</span> <span class="token class-name">Opening</span> connection <span class="token punctuation">{</span>s<span class="token punctuation">}</span><span class="token operator">-&gt;</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">:</span><span class="token number">443</span>
<span class="token number">10</span><span class="token operator">:</span><span class="token number">34</span><span class="token operator">:</span><span class="token number">13.778</span> <span class="token punctuation">[</span>pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>conn<span class="token punctuation">.</span></span>DefaultHttpClientConnectionOperator</span> <span class="token operator">-</span> <span class="token class-name">Connecting</span> <span class="token keyword">to</span> <span class="token namespace">github<span class="token punctuation">.</span>com</span><span class="token operator">/</span><span class="token number">140.82</span><span class="token number">.112</span><span class="token number">.4</span><span class="token operator">:</span><span class="token number">443</span>
<span class="token number">10</span><span class="token operator">:</span><span class="token number">34</span><span class="token operator">:</span><span class="token number">13.778</span> <span class="token punctuation">[</span>pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>conn<span class="token punctuation">.</span>ssl<span class="token punctuation">.</span></span>SSLConnectionSocketFactory</span> <span class="token operator">-</span> <span class="token class-name">Connecting</span> socket <span class="token keyword">to</span> <span class="token namespace">github<span class="token punctuation">.</span>com</span><span class="token operator">/</span><span class="token number">140.82</span><span class="token number">.112</span><span class="token number">.4</span><span class="token operator">:</span><span class="token number">443</span> <span class="token keyword">with</span> <span class="token namespace">timeout</span> <span class="token number">10000</span>
<span class="token number">10</span><span class="token operator">:</span><span class="token number">34</span><span class="token operator">:</span><span class="token number">14.052</span> <span class="token punctuation">[</span>pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>conn<span class="token punctuation">.</span>ssl<span class="token punctuation">.</span></span>SSLConnectionSocketFactory</span> <span class="token operator">-</span> <span class="token class-name">Enabled</span> protocols<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token class-name">TLSv1</span><span class="token punctuation">]</span>
<span class="token number">10</span><span class="token operator">:</span><span class="token number">34</span><span class="token operator">:</span><span class="token number">14.052</span> <span class="token punctuation">[</span>pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>conn<span class="token punctuation">.</span>ssl<span class="token punctuation">.</span></span>SSLConnectionSocketFactory</span> <span class="token operator">-</span> <span class="token class-name">Enabled</span> cipher suites<span class="token operator">:</span><span class="token punctuation">[</span><span class="token constant">TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA</span><span class="token punctuation">,</span> <span class="token constant">TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA</span><span class="token punctuation">,</span> <span class="token constant">TLS_RSA_WITH_AES_256_CBC_SHA</span><span class="token punctuation">,</span> <span class="token constant">TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA</span><span class="token punctuation">,</span> <span class="token constant">TLS_ECDH_RSA_WITH_AES_256_CBC_SHA</span><span class="token punctuation">,</span> <span class="token constant">TLS_DHE_RSA_WITH_AES_256_CBC_SHA</span><span class="token punctuation">,</span> <span class="token constant">TLS_DHE_DSS_WITH_AES_256_CBC_SHA</span><span class="token punctuation">,</span> <span class="token constant">TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA</span><span class="token punctuation">,</span> <span class="token constant">TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA</span><span class="token punctuation">,</span> <span class="token constant">TLS_RSA_WITH_AES_128_CBC_SHA</span><span class="token punctuation">,</span> <span class="token constant">TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA</span><span class="token punctuation">,</span> <span class="token constant">TLS_ECDH_RSA_WITH_AES_128_CBC_SHA</span><span class="token punctuation">,</span> <span class="token constant">TLS_DHE_RSA_WITH_AES_128_CBC_SHA</span><span class="token punctuation">,</span> <span class="token constant">TLS_DHE_DSS_WITH_AES_128_CBC_SHA</span><span class="token punctuation">,</span> <span class="token constant">TLS_EMPTY_RENEGOTIATION_INFO_SCSV</span><span class="token punctuation">]</span>
<span class="token number">10</span><span class="token operator">:</span><span class="token number">34</span><span class="token operator">:</span><span class="token number">14.052</span> <span class="token punctuation">[</span>pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>conn<span class="token punctuation">.</span>ssl<span class="token punctuation">.</span></span>SSLConnectionSocketFactory</span> <span class="token operator">-</span> <span class="token class-name">Starting</span> handshake
<span class="token number">10</span><span class="token operator">:</span><span class="token number">34</span><span class="token operator">:</span><span class="token number">14.314</span> <span class="token punctuation">[</span>pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>conn<span class="token punctuation">.</span></span>DefaultManagedHttpClientConnection</span> <span class="token operator">-</span> http<span class="token operator">-</span>outgoing<span class="token operator">-</span><span class="token number">0</span><span class="token operator">:</span> <span class="token class-name">Shutdown</span> connection
<span class="token number">10</span><span class="token operator">:</span><span class="token number">34</span><span class="token operator">:</span><span class="token number">14.314</span> <span class="token punctuation">[</span>pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>execchain<span class="token punctuation">.</span></span>MainClientExec</span> <span class="token operator">-</span> <span class="token class-name">Connection</span> discarded
<span class="token number">10</span><span class="token operator">:</span><span class="token number">34</span><span class="token operator">:</span><span class="token number">14.314</span> <span class="token punctuation">[</span>pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>conn<span class="token punctuation">.</span></span>PoolingHttpClientConnectionManager</span> <span class="token operator">-</span> <span class="token class-name">Connection</span> released<span class="token operator">:</span> <span class="token punctuation">[</span>id<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>route<span class="token operator">:</span> <span class="token punctuation">{</span>s<span class="token punctuation">}</span><span class="token operator">-&gt;</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">:</span><span class="token number">443</span><span class="token punctuation">]</span><span class="token punctuation">[</span>total kept alive<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span> route allocated<span class="token operator">:</span> <span class="token number">0</span> of <span class="token number">100</span><span class="token punctuation">;</span> total allocated<span class="token operator">:</span> <span class="token number">0</span> of <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token number">10</span><span class="token operator">:</span><span class="token number">34</span><span class="token operator">:</span><span class="token number">14.316</span> <span class="token punctuation">[</span>pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token constant">WARN</span> <span class="token class-name"><span class="token namespace">us<span class="token punctuation">.</span>codecraft<span class="token punctuation">.</span>webmagic<span class="token punctuation">.</span>downloader<span class="token punctuation">.</span></span>HttpClientDownloader</span> <span class="token operator">-</span> download page https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>code4craft error
<span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>net<span class="token punctuation">.</span>ssl<span class="token punctuation">.</span></span>SSLHandshakeException</span><span class="token operator">:</span> <span class="token class-name">Received</span> fatal alert<span class="token operator">:</span> protocol_version
	at <span class="token class-name"><span class="token namespace">sun<span class="token punctuation">.</span>security<span class="token punctuation">.</span>ssl<span class="token punctuation">.</span></span>Alert</span><span class="token punctuation">.</span><span class="token function">createSSLException</span><span class="token punctuation">(</span><span class="token class-name">Alert</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">131</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">sun<span class="token punctuation">.</span>security<span class="token punctuation">.</span>ssl<span class="token punctuation">.</span></span>Alert</span><span class="token punctuation">.</span><span class="token function">createSSLException</span><span class="token punctuation">(</span><span class="token class-name">Alert</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">117</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">sun<span class="token punctuation">.</span>security<span class="token punctuation">.</span>ssl<span class="token punctuation">.</span></span>TransportContext</span><span class="token punctuation">.</span><span class="token function">fatal</span><span class="token punctuation">(</span><span class="token class-name">TransportContext</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">340</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">sun<span class="token punctuation">.</span>security<span class="token punctuation">.</span>ssl<span class="token punctuation">.</span></span>Alert</span>$<span class="token class-name">AlertConsumer</span><span class="token punctuation">.</span><span class="token function">consume</span><span class="token punctuation">(</span><span class="token class-name">Alert</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">293</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">sun<span class="token punctuation">.</span>security<span class="token punctuation">.</span>ssl<span class="token punctuation">.</span></span>TransportContext</span><span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token class-name">TransportContext</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">186</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">sun<span class="token punctuation">.</span>security<span class="token punctuation">.</span>ssl<span class="token punctuation">.</span></span>SSLTransport</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span><span class="token class-name">SSLTransport</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">154</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">sun<span class="token punctuation">.</span>security<span class="token punctuation">.</span>ssl<span class="token punctuation">.</span></span>SSLSocketImpl</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span><span class="token class-name">SSLSocketImpl</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1279</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">sun<span class="token punctuation">.</span>security<span class="token punctuation">.</span>ssl<span class="token punctuation">.</span></span>SSLSocketImpl</span><span class="token punctuation">.</span><span class="token function">readHandshakeRecord</span><span class="token punctuation">(</span><span class="token class-name">SSLSocketImpl</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1188</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">sun<span class="token punctuation">.</span>security<span class="token punctuation">.</span>ssl<span class="token punctuation">.</span></span>SSLSocketImpl</span><span class="token punctuation">.</span><span class="token function">startHandshake</span><span class="token punctuation">(</span><span class="token class-name">SSLSocketImpl</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">401</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">sun<span class="token punctuation">.</span>security<span class="token punctuation">.</span>ssl<span class="token punctuation">.</span></span>SSLSocketImpl</span><span class="token punctuation">.</span><span class="token function">startHandshake</span><span class="token punctuation">(</span><span class="token class-name">SSLSocketImpl</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">373</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>conn<span class="token punctuation">.</span>ssl<span class="token punctuation">.</span></span>SSLConnectionSocketFactory</span><span class="token punctuation">.</span><span class="token function">createLayeredSocket</span><span class="token punctuation">(</span><span class="token class-name">SSLConnectionSocketFactory</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">436</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>conn<span class="token punctuation">.</span>ssl<span class="token punctuation">.</span></span>SSLConnectionSocketFactory</span><span class="token punctuation">.</span><span class="token function">connectSocket</span><span class="token punctuation">(</span><span class="token class-name">SSLConnectionSocketFactory</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">384</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>conn<span class="token punctuation">.</span></span>DefaultHttpClientConnectionOperator</span><span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token class-name">DefaultHttpClientConnectionOperator</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">142</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>conn<span class="token punctuation">.</span></span>PoolingHttpClientConnectionManager</span><span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token class-name">PoolingHttpClientConnectionManager</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">374</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>execchain<span class="token punctuation">.</span></span>MainClientExec</span><span class="token punctuation">.</span><span class="token function">establishRoute</span><span class="token punctuation">(</span><span class="token class-name">MainClientExec</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">393</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>execchain<span class="token punctuation">.</span></span>MainClientExec</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">MainClientExec</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">236</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>execchain<span class="token punctuation">.</span></span>ProtocolExec</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">ProtocolExec</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">186</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>execchain<span class="token punctuation">.</span></span>RetryExec</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">RetryExec</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">89</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>execchain<span class="token punctuation">.</span></span>RedirectExec</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">RedirectExec</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">110</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>client<span class="token punctuation">.</span></span>InternalHttpClient</span><span class="token punctuation">.</span><span class="token function">doExecute</span><span class="token punctuation">(</span><span class="token class-name">InternalHttpClient</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">185</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>client<span class="token punctuation">.</span></span>CloseableHttpClient</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">CloseableHttpClient</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">83</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">us<span class="token punctuation">.</span>codecraft<span class="token punctuation">.</span>webmagic<span class="token punctuation">.</span>downloader<span class="token punctuation">.</span></span>HttpClientDownloader</span><span class="token punctuation">.</span><span class="token function">download</span><span class="token punctuation">(</span><span class="token class-name">HttpClientDownloader</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">85</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">us<span class="token punctuation">.</span>codecraft<span class="token punctuation">.</span>webmagic<span class="token punctuation">.</span></span>Spider</span><span class="token punctuation">.</span><span class="token function">processRequest</span><span class="token punctuation">(</span><span class="token class-name">Spider</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">404</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">us<span class="token punctuation">.</span>codecraft<span class="token punctuation">.</span>webmagic<span class="token punctuation">.</span></span>Spider</span><span class="token punctuation">.</span>access$<span class="token function">000</span><span class="token punctuation">(</span><span class="token class-name">Spider</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">61</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">us<span class="token punctuation">.</span>codecraft<span class="token punctuation">.</span>webmagic<span class="token punctuation">.</span></span>Spider</span>$<span class="token number">1.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Spider</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">320</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">us<span class="token punctuation">.</span>codecraft<span class="token punctuation">.</span>webmagic<span class="token punctuation">.</span>thread<span class="token punctuation">.</span></span>CountableThreadPool</span>$<span class="token number">1.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">CountableThreadPool</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">74</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span>ThreadPoolExecutor</span><span class="token punctuation">.</span><span class="token function">runWorker</span><span class="token punctuation">(</span><span class="token class-name">ThreadPoolExecutor</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1149</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span>ThreadPoolExecutor</span>$<span class="token class-name">Worker</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ThreadPoolExecutor</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">624</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>Thread</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">748</span><span class="token punctuation">)</span>
<span class="token number">10</span><span class="token operator">:</span><span class="token number">34</span><span class="token operator">:</span><span class="token number">15.324</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span> <span class="token class-name"><span class="token namespace">us<span class="token punctuation">.</span>codecraft<span class="token punctuation">.</span>webmagic<span class="token punctuation">.</span></span>Spider</span> <span class="token operator">-</span> <span class="token class-name">Spider</span> github<span class="token punctuation">.</span>com closed<span class="token operator">!</span> <span class="token number">1</span> pages downloaded<span class="token punctuation">.</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€ƒâ€ƒé‚£ç¬¬ä¸€ä¸ªä¾‹å­å°±å‡ºç°è¿™ä¸ªé—®é¢˜,é‚£å¾—è§£å†³å‘€,æ˜¯å§?</p>`,4),Y={href:"https://github.com/code4craft/webmagic/issues/701",target:"_blank",rel:"noopener noreferrer"},K=p('<figure><img src="'+d+`" alt="(protocol_version)bugè§£å†³" tabindex="0" loading="lazy"><figcaption>(protocol_version)bugè§£å†³</figcaption></figure><p>â€ƒâ€ƒä½œè€…è¯´æ˜¯ä¼šåœ¨0.7.4ä¸­è§£å†³,ä½ å¯èƒ½ä¼šè¯´é‚£æˆ‘ä»¬æ¢ç‰ˆæœ¬å°±å¥½äº†,æŠ±æ­‰,ä½œè€…å¯èƒ½æ˜¯å·¥ä½œå¤ªå¿™äº†,æ‰€ä»¥0.7.4è¿Ÿè¿Ÿä¸å‡º,é‚£æ²¡åŠæ³•,é‚£å’±ä»¬å°±è‡ªå·±æ”¹å§ã€‚</p><h2 id="æ‰‹åŠ¨è§£å†³-protocol-version-bug" tabindex="-1"><a class="header-anchor" href="#æ‰‹åŠ¨è§£å†³-protocol-version-bug" aria-hidden="true">#</a> æ‰‹åŠ¨è§£å†³ protocol_version bug</h2><p>â€ƒâ€ƒå…ˆæ‰¾åˆ°ä½œè€…è¯´çš„<code>HttpClientGenerator</code>ç±»ä¸­çš„æ–¹æ³•<em>buildSSLConnectionSocketFactory</em>ï¼Œ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">SSLConnectionSocketFactory</span> <span class="token function">buildSSLConnectionSocketFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">SSLConnectionSocketFactory</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createIgnoreVerifySSL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">KeyManagementException</span> var2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;ssl connection fail&quot;</span><span class="token punctuation">,</span> var2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NoSuchAlgorithmException</span> var3<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;ssl connection fail&quot;</span><span class="token punctuation">,</span> var3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token class-name">SSLConnectionSocketFactory</span><span class="token punctuation">.</span><span class="token function">getSocketFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€ƒâ€ƒå°†é‡Œé¢çš„å†…å®¹æ”¹é€ å°±è¡Œ,ä¸è¿‡å› ä¸ºæ˜¯æºç ,å¦‚æœä½ ä¸æƒ³é‡æ–°æ‰“åŒ…çš„è¯,å°±éœ€è¦è‡ªå·±å»é‡å†™å¼•ç”¨<code>HttpClientGenerator</code></p><h2 id="å¦‚ä½•çŸ¥é“åœ¨é‚£é‡Œä½¿ç”¨ä¸Šhttpclientgeneratorçš„" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•çŸ¥é“åœ¨é‚£é‡Œä½¿ç”¨ä¸Šhttpclientgeneratorçš„" aria-hidden="true">#</a> å¦‚ä½•çŸ¥é“åœ¨é‚£é‡Œä½¿ç”¨ä¸ŠHttpClientGeneratorçš„?</h2><p>â€‹â€ƒâ€ƒå®˜ç½‘è¯´äº†,WebMagicçš„ç»“æ„åˆ†ä¸º<code>Downloader</code>ã€<code>PageProcessor</code>ã€<code>Scheduler</code>ã€<code>Pipeline</code>å››å¤§ç»„ä»¶ï¼Œ</p><p>â€ƒâ€ƒé‚£æˆ‘ä»¬æ€ä¹ˆçŸ¥é“è¿™å››å¤§ç»„ä»¶æ˜¯æ€ä¹ˆç›¸äº’å…³è”çš„å‘¢?</p><p>â€‹â€ƒâ€ƒå¯ä»¥ä»ä¹‹å‰çš„é‚£ä¸ª<strong>GithubRepoPageProcessor</strong>ç±»çš„æ‰§è¡Œæ–¹æ³•ä¸­è·å¾—</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code> <span class="token class-name">Spider</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">GithubRepoPageProcessor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">addUrl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">&quot;https://github.com/code4craft&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">thread</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€ƒâ€ƒä»ä¸Šå¯ä»¥çŸ¥é“,æ‰§è¡Œä¸€ä¸ªçˆ¬å–ä»»åŠ¡,éœ€è¦é€šè¿‡<strong>Spider</strong>å»å¯åŠ¨,é‚£æˆ‘ä»¬æŸ¥çœ‹ä¸€ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">us<span class="token punctuation">.</span>codecraft<span class="token punctuation">.</span>webmagic</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Spider</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">,</span> <span class="token class-name">Task</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token class-name">Downloader</span> downloader<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Pipeline</span><span class="token punctuation">&gt;</span></span> pipelines <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token class-name">PageProcessor</span> pageProcessor<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Request</span><span class="token punctuation">&gt;</span></span> startRequests<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token class-name">Site</span> site<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> uuid<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token class-name">Scheduler</span> scheduler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueueScheduler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token class-name">CountableThreadPool</span> threadPool<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token class-name">ExecutorService</span> executorService<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token keyword">int</span> threadNum <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token class-name">AtomicInteger</span> stat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AtomicInteger</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token keyword">boolean</span> exitWhenComplete <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">STAT_INIT</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">STAT_RUNNING</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">STAT_STOPPED</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token keyword">boolean</span> spawnUrl <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token keyword">boolean</span> destroyWhenExit <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">ReentrantLock</span> newUrlLock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReentrantLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Condition</span> newUrlCondition<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SpiderListener</span><span class="token punctuation">&gt;</span></span> spiderListeners<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">AtomicLong</span> pageCount<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Date</span> startTime<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> emptySleepTime<span class="token punctuation">;</span>

    <span class="token comment">// ...... çœç•¥</span>
     
     
    <span class="token doc-comment comment">/** <span class="token keyword">@deprecated</span> */</span>
    <span class="token keyword">public</span> <span class="token class-name">Spider</span> <span class="token function">downloader</span><span class="token punctuation">(</span><span class="token class-name">Downloader</span> downloader<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setDownloader</span><span class="token punctuation">(</span>downloader<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Spider</span> <span class="token function">setDownloader</span><span class="token punctuation">(</span><span class="token class-name">Downloader</span> downloader<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkIfRunning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>downloader <span class="token operator">=</span> downloader<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
     
     <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkRunningStat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Spider {} started!&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Spider {} closed! {} pages downloaded.&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pageCount<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
    
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">initComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>downloader <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// åœ¨è¿™é‡Œä¹Ÿçœ‹åˆ°äº†é»˜è®¤ä½¿ç”¨ HttpClientDownloader</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>downloader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpClientDownloader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pipelines<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>pipelines<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ConsolePipeline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>downloader<span class="token punctuation">.</span><span class="token function">setThread</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>threadNum<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>threadPool <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>threadPool<span class="token punctuation">.</span><span class="token function">isShutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>executorService <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>executorService<span class="token punctuation">.</span><span class="token function">isShutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>threadPool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CountableThreadPool</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>threadNum<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>executorService<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>threadPool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CountableThreadPool</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>threadNum<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>startRequests <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Iterator</span> var1 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>startRequests<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">while</span><span class="token punctuation">(</span>var1<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Request</span><span class="token punctuation">)</span>var1<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addRequest</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">this</span><span class="token punctuation">.</span>startRequests<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>startTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€ƒâ€ƒä»ä¸Šé¢å¯ä»¥å‘ç°å››ä¸ªéƒ½æœ‰,æˆ‘ä»¬ç‚¹å‡»è¿›<strong>Downloader</strong>ç±»</p><p>â€ƒâ€ƒå¯ä»¥å‘ç°</p><p>â€‹ <img src="`+m+`" alt="Downloaderæ¥å£å®ç°" loading="lazy"></p><p>â€ƒâ€ƒä¸‰ä¸ªå®ç°ç±»(çº¢æ¡†å†…å®¹,myé‚£ä¸ªæ˜¯æˆ‘è‡ªå·±å®ç°çš„)!</p><p>â€ƒâ€ƒç„¶åä½ ç‚¹è¿›<strong>HttpClientDownloader</strong>ç±»</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">us<span class="token punctuation">.</span>codecraft<span class="token punctuation">.</span>webmagic<span class="token punctuation">.</span>downloader</span><span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token annotation punctuation">@ThreadSafe</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HttpClientDownloader</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractDownloader</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">CloseableHttpClient</span><span class="token punctuation">&gt;</span></span> httpClients <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// åœ¨è¿™é‡Œå°±å‘ç°ä½¿ç”¨HttpClientGenerator</span>
    <span class="token keyword">private</span> <span class="token class-name">HttpClientGenerator</span> httpClientGenerator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpClientGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">HttpUriRequestConverter</span> httpUriRequestConverter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpUriRequestConverter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">ProxyProvider</span> proxyProvider<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">boolean</span> responseHeader <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token comment">// ......çœç•¥</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€ƒâ€ƒä»ä»¥ä¸Šæˆ‘ä»¬çŸ¥é“äº†<strong>Spider</strong>ç±»ä¸­æœ‰å±æ€§<strong>Download</strong>æ¥å£,è¯¥æ¥å£æœ‰å®ç°ç±»<strong>HttpClientDownloader</strong>ï¼Œå½“ä½ åœ¨æ‰§è¡Œ<strong>Spider</strong>.<em>run()<em>æ—¶,<em>run()<em>ä¼šæ‰§è¡Œ</em>initComponent()</em>ï¼Œå¦‚æœä½ æ²¡æœ‰è®¾ç½®<strong>Spider</strong>çš„<code>download</code>å±æ€§,å°±ä¼šè‡ªåŠ¨çš„é€‰æ‹©<strong>HttpClientDownloader</strong>ä½œä¸ºå®ç°ç±»,è€Œ<strong>HttpClientDownloader</strong>ä¸­åˆä½¿ç”¨äº†<strong>HttpClientGenerator</strong>ä½œä¸ºå‚æ•°,é‚£æˆ‘ä»¬æ—¢ç„¶è¦æ”¹<strong>HttpClientGenerator</strong>ç±»ä¸­çš„æ–¹æ³•</em>buildSSLConnectionSocketFactoryï¼ˆï¼‰</em>,é‚£å°±å¾—é‡å†™<strong>HttpClientGenerator</strong>å’Œ<strong>Download</strong></p>`,20),Q={href:"https://gitee.com/zjydzyjs/spring-boot-use-case-collection/blob/master/webmagic/src/main/java/com/blacktea/webmagic/demo/config/MyHttpClientGenerator.java",target:"_blank",rel:"noopener noreferrer"},Z=n("strong",null,"å’Œ",-1),nn={href:"https://gitee.com/zjydzyjs/spring-boot-use-case-collection/blob/master/webmagic/src/main/java/com/blacktea/webmagic/demo/config/MyHttpClientDownloader.java",target:"_blank",rel:"noopener noreferrer"},sn=n("h2",{id:"æ€ä¹ˆä½¿ç”¨æ–°å¾—downloadå®ç°",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#æ€ä¹ˆä½¿ç”¨æ–°å¾—downloadå®ç°","aria-hidden":"true"},"#"),s(" æ€ä¹ˆä½¿ç”¨æ–°å¾—Downloadå®ç°?")],-1),an=p(`<li><p>å†åœ¨ä½¿ç”¨<strong>Spider</strong>å¾—æ—¶å€™<em>setDownloader</em>(<strong>MyHttpClientDownloader</strong>)ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Spider</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>pageProcessor<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setDownloader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyHttpClientDownloader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>æˆ–è€…å¢åŠ ä¸€ä¸ªç±»ç”¨äºç»§æ‰¿Spiderç±»,é‡å†™<em>initComponent</em>()æ–¹æ³•ä¸­å¾—ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">initComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>downloader <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        	<span class="token comment">// ä¿®æ”¹è¿™é‡Œä¸º this.downloader = new MyHttpClientDownloader();</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>downloader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpClientDownloader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pipelines<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>pipelines<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ConsolePipeline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>downloader<span class="token punctuation">.</span><span class="token function">setThread</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>threadNum<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>threadPool <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>threadPool<span class="token punctuation">.</span><span class="token function">isShutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>executorService <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>executorService<span class="token punctuation">.</span><span class="token function">isShutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>threadPool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CountableThreadPool</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>threadNum<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>executorService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>threadPool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CountableThreadPool</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>threadNum<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>startRequests <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Iterator</span> var1 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>startRequests<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span><span class="token punctuation">(</span>var1<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Request</span><span class="token punctuation">)</span>var1<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addRequest</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>startRequests<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>startTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li>`,2),tn={href:"https://gitee.com/zjydzyjs/spring-boot-use-case-collection/blob/master/webmagic/src/test/java/com/blacktea/webmagic/demo/WebMagicTest.java",target:"_blank",rel:"noopener noreferrer"},pn=n("em",null,"testDemo1()",-1),en=p(`<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testDemo1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// å‡ºç°é”™è¯¯ -&gt; javax.net.ssl.SSLHandshakeException: Received fatal alert: protocol_version</span>
<span class="token comment">//        Spider.create(new GithubRepoPageProcessor())</span>
<span class="token comment">//                .addUrl(new String[]{&quot;https://github.com/code4craft&quot;})</span>
<span class="token comment">//                .thread(5).run();</span>

        <span class="token comment">//ä½¿ç”¨MyHttpClientDownloaderè§£å†³  protocol_version,ä½†æ˜¯å¯èƒ½å‡ºç°githubè¯·æ±‚è¶…æ—¶,è¿™ä¸ªä¸githubè®¿é—®æœ‰å…³ç³»,æˆ‘è®¿é—®ä¸äº†</span>
        <span class="token class-name">Spider</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">GithubRepoPageProcessor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">addUrl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">&quot;https://github.com/code4craft&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setDownloader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyHttpClientDownloader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">thread</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),on=p(`<h2 id="å®˜ç½‘å…¶ä»–ç”¨ä¾‹" tabindex="-1"><a class="header-anchor" href="#å®˜ç½‘å…¶ä»–ç”¨ä¾‹" aria-hidden="true">#</a> å®˜ç½‘å…¶ä»–ç”¨ä¾‹</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">us<span class="token punctuation">.</span>codecraft<span class="token punctuation">.</span>webmagic<span class="token punctuation">.</span>processor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">us<span class="token punctuation">.</span>codecraft<span class="token punctuation">.</span>webmagic<span class="token punctuation">.</span></span><span class="token class-name">Page</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">us<span class="token punctuation">.</span>codecraft<span class="token punctuation">.</span>webmagic<span class="token punctuation">.</span></span><span class="token class-name">Site</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">PageProcessor</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token class-name">Page</span> var1<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Site</span> <span class="token function">getSite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½ å¯ä»¥é€šè¿‡æŸ¥æ‰¾<strong>PageProcessor</strong>æ¥å£å¾—å®ç°,å¾—åˆ°å®˜ç½‘ç”¨ä¾‹,</p><figure><img src="`+v+'" alt="PageProcessorå®ç°" tabindex="0" loading="lazy"><figcaption>PageProcessorå®ç°</figcaption></figure><h2 id="æœ¬æ–‡å®ç°" tabindex="-1"><a class="header-anchor" href="#æœ¬æ–‡å®ç°" aria-hidden="true">#</a> æœ¬æ–‡å®ç°</h2><h3 id="åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#åŠŸèƒ½" aria-hidden="true">#</a> åŠŸèƒ½</h3>',6),cn={href:"https://gitee.com/zjydzyjs/spring-boot-use-case-collection/blob/master/webmagic/src/main/java/com/blacktea/webmagic/demo/controller/ProTestController.java",target:"_blank",rel:"noopener noreferrer"},ln=n("h4",{id:"æ¥å£è¯·æ±‚æŠ¥æ–‡",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#æ¥å£è¯·æ±‚æŠ¥æ–‡","aria-hidden":"true"},"#"),s(" æ¥å£è¯·æ±‚æŠ¥æ–‡")],-1),un=n("thead",null,[n("tr",null,[n("th",null,"åç§°"),n("th",null,"å¿…å¡«"),n("th",null,"ç±»å‹"),n("th",null,"è¯´æ˜")])],-1),kn=n("tr",null,[n("td",null,"fileName"),n("td",null,"true"),n("td",null,"String"),n("td",null,"è¡¨ç¤ºä¸‹è½½åå¾—æ–‡ä»¶åç§°(è¦æ±‚å¸¦æ–‡ä»¶ç±»å‹åç¼€)ï¼›")],-1),rn=n("tr",null,[n("td",null,"itemPageUrl"),n("td",null,"false"),n("td",null,"String"),n("td",null,"ç›®æ ‡é¡µé¢åœ°å€ï¼›ï¼ˆè¯¥é¡¹ä¸helpUrlã€targetUrlæ˜¯åˆ†å¼€çš„,åªæœ‰è¿›è¡Œæ–‡ç« è¯¦æƒ…çˆ¬å–çš„æ—¶å€™æ‰éœ€è¦itemPageUrlï¼‰")],-1),dn=n("tr",null,[n("td",null,[n("strong",null,"helpUrl")]),n("td",null,"false"),n("td",null,"String"),n("td",null,"æä¾›éœ€è¦ç›®æ ‡åœ°å€çš„é¡µé¢url,ä¾‹å¦‚CSDNçš„åˆ—è¡¨é¡µ;")],-1),mn=n("tr",null,[n("td",null,[n("strong",null,"targetUrl")]),n("td",null,"false"),n("td",null,"String"),n("td",null,"æ‰¾å¯»ç›®æ ‡åœ°å€çš„åŒ¹é…url,æš‚æ—¶ä»…æ”¯æŒ regx åŒ¹é…;")],-1),vn=n("tr",null,[n("td",null,"fields"),n("td",null,"true"),n("td",null,[n("code",null,"List<Field>")]),n("td",null,"åŒ¹é…è§„åˆ™é›†åˆï¼Œé•¿åº¦å¿…é¡»å¤§äº0")],-1),bn=n("tr",null,[n("td",null,"key"),n("td",null,"true"),n("td",null,"String (Field.key)"),n("td",null,"fields[index].keyå±æ€§,ç”¨äºæ ‡è®°è¯¥æ¡è§„åˆ™å¾—åˆ«å,åœ¨å¯¼å‡ºzipæ—¶,ä¼šè‡ªåŠ¨å°†è¯¥keyä½œä¸ºä¸€çº§æˆ–äºŒçº§(itemä¸€çº§,listäºŒçº§)ç›®å½•åç§°ä½œä¸ºzipå†…æ–‡ä»¶åˆ†åŒº")],-1),gn=n("tr",null,[n("td",null,"value"),n("td",null,"true"),n("td",null,"String (Field.value)"),n("td",null,"fields[index].valueå±æ€§,ç”¨äºåœ¨é¡µé¢ä¸­è¿›è¡ŒåŒ¹é…å¾—å†…å®¹")],-1),hn=n("td",null,"type",-1),wn=n("td",null,"true",-1),yn=n("td",null,"String (Field.type)",-1),_n={href:"https://gitee.com/zjydzyjs/spring-boot-use-case-collection/blob/master/webmagic/src/main/java/com/blacktea/webmagic/demo/util/WebMagicUtil.java",target:"_blank",rel:"noopener noreferrer"},fn=n("strong",null,"matchVal",-1),qn=n("td",null,"fileType",-1),Sn=n("td",null,"true",-1),Cn=n("td",null,"String (Field.fileType)",-1),xn={href:"https://gitee.com/zjydzyjs/spring-boot-use-case-collection/blob/master/webmagic/src/main/java/com/blacktea/webmagic/demo/util/WebMagicUtil.java",target:"_blank",rel:"noopener noreferrer"},jn=n("strong",null,"getDataMap",-1),Pn=p('<h3 id="zipåˆ†åŒºè¯´æ˜" tabindex="-1"><a class="header-anchor" href="#zipåˆ†åŒºè¯´æ˜" aria-hidden="true">#</a> zipåˆ†åŒºè¯´æ˜</h3><p>â€‹ â€ƒâ€ƒä¸ºäº†åŒºåˆ†åŒ¹é…åè·å–çš„èµ„æºä¸é¿å…æ–‡ä»¶åç§°é‡å¤å¯¼è‡´æ–‡ä»¶è¢«è¦†ç›–,æˆ‘è¿™é‡Œåšäº†ç›®å½•åˆ†åŒºã€‚</p><p>â€‹1. å½“ä½ ç”¨<code>itemPageUrl</code> æ—¶,æ–‡ä»¶ç»“æ„ä¸ºï¼š xxx.zip/key/fileType;</p><ol start="2"><li>å½“ä½ ç”¨<code>helpUrl and targetUrl</code>æ—¶,æ–‡ä»¶ç»“æ„ä¸ºï¼šç¬¬å‡ ä¸ªé¡µé¢/key/fileType;</li></ol><h3 id="åŒ¹é…ç»“æœè°ƒè¯•" tabindex="-1"><a class="header-anchor" href="#åŒ¹é…ç»“æœè°ƒè¯•" aria-hidden="true">#</a> åŒ¹é…ç»“æœè°ƒè¯•</h3>',5),Tn={href:"https://gitee.com/zjydzyjs/spring-boot-use-case-collection/blob/master/webmagic/src/main/java/com/blacktea/webmagic/demo/util/WebMagicUtil.java",target:"_blank",rel:"noopener noreferrer"},Hn=n("strong",null,"getSelectableValue",-1),Dn=p(`<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Object</span> <span class="token function">getSelectableValue</span><span class="token punctuation">(</span><span class="token class-name">Field</span> field<span class="token punctuation">,</span><span class="token class-name">Page</span> page<span class="token punctuation">,</span> <span class="token keyword">boolean</span> all<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">Selectable</span> selectable <span class="token operator">=</span> <span class="token class-name">WebMagicUtil</span><span class="token punctuation">.</span><span class="token function">matchVal</span><span class="token punctuation">(</span>field<span class="token punctuation">,</span> page<span class="token punctuation">)</span><span class="token punctuation">;</span>
    log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">&quot;å½“å‰field.key={},åŒ¹é…çš„ç»“æœä¸º:{}&quot;</span><span class="token punctuation">,</span>field<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>selectable<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Validator</span><span class="token punctuation">.</span><span class="token function">isNotNull</span><span class="token punctuation">(</span>selectable<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// selectable get()/all(),çœ‹å¯¼å‡ºå•ä¸ªå…·ä½“æ–‡ä»¶(md),è¿˜æ˜¯å‹ç¼©æ–‡ä»¶(zip)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>all<span class="token punctuation">)</span><span class="token punctuation">{</span>
           <span class="token keyword">return</span> selectable<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
           <span class="token keyword">return</span> selectable<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€ƒâ€ƒè¯¥æ–¹æ³•ä¼šæ‰“å°å‡ºç¬¦åˆçš„åŒ¹é…ç»“æœçš„,é»˜è®¤æ‰“å°å…¨éƒ¨ç»“æœã€‚</p><h2 id="_1-é€šç”¨è¯¦æƒ…é¡µå¯¼å‡ºmd" tabindex="-1"><a class="header-anchor" href="#_1-é€šç”¨è¯¦æƒ…é¡µå¯¼å‡ºmd" aria-hidden="true">#</a> 1. é€šç”¨è¯¦æƒ…é¡µå¯¼å‡ºmd</h2><h3 id="_1-1-swaggerä¸‹è½½mdæ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_1-1-swaggerä¸‹è½½mdæ–‡ä»¶" aria-hidden="true">#</a> 1.1 swaggerä¸‹è½½mdæ–‡ä»¶</h3>`,4),En={href:"http://localhost:8000/swagger-ui.html#!/ProTestController/exportCSDNMdUsingPOST",target:"_blank",rel:"noopener noreferrer"},zn={href:"http://localhost:8000/pro/item/export/md",target:"_blank",rel:"noopener noreferrer"},Ln=p('<p>post,application/json</p><figure><img src="'+b+`" alt="swagger-mdä¸‹è½½è¯·æ±‚å‚æ•°" tabindex="0" loading="lazy"><figcaption>swagger-mdä¸‹è½½è¯·æ±‚å‚æ•°</figcaption></figure><h3 id="_1-2-å®é™…å…¥å‚json-csdnç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#_1-2-å®é™…å…¥å‚json-csdnç¤ºä¾‹" aria-hidden="true">#</a> 1.2 å®é™…å…¥å‚json(CSDNç¤ºä¾‹)</h3><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;fileName&quot;</span><span class="token operator">:</span><span class="token string">&quot;mdä¸‹è½½æµ‹è¯•.md&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;itemPageUrl&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://blog.csdn.net/weixin_43917143/article/details/120436445&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span><span class="token property">&quot;key&quot;</span><span class="token operator">:</span><span class="token string">&quot;md&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;//*[@id=\\&quot;article_content\\&quot;]/[@id=\\&quot;content_views\\&quot;]&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;XPath&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;fileType&quot;</span><span class="token operator">:</span><span class="token string">&quot;MD&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token property">&quot;key&quot;</span><span class="token operator">:</span><span class="token string">&quot;md1&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;//*[@id=\\&quot;article_content\\&quot;]/[@id=\\&quot;content_views\\&quot;]&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;XPath&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;fileType&quot;</span><span class="token operator">:</span><span class="token string">&quot;MD&quot;</span><span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœå¤šä¸ªkeyï¼Œæˆ‘ä¼šæŠŠå¤šä¸ªkeyåŒ¹é…åˆ°çš„å†…å®¹ä¸€èµ·å†™å…¥åˆ°ä¸€ä¸ªmd,åªè¦åŒ¹é…åˆ°ç¬¦åˆçš„å†…å®¹åœ¨ä¸€ä¸ªä»¥ä¸Šå°±ä¼šè¿›è¡Œ é¢å¤–æ‹¼æ¥ &quot;# mdåˆ†å‰²-ä¸‹ä¸€ç¯‡\\n\\n&quot;ï¼Œå†æ‹¼æ¥ä¸‹ä¸€ç¯‡ã€‚</p><h3 id="_1-3-æ•ˆæœ" tabindex="-1"><a class="header-anchor" href="#_1-3-æ•ˆæœ" aria-hidden="true">#</a> 1.3 æ•ˆæœ</h3><figure><img src="`+g+'" alt="mdä¸‹è½½swagger" tabindex="0" loading="lazy"><figcaption>mdä¸‹è½½swagger</figcaption></figure><figure><img src="'+h+'" alt="mdæ–‡ä»¶æœ€ç»ˆæ•ˆæœ" tabindex="0" loading="lazy"><figcaption>mdæ–‡ä»¶æœ€ç»ˆæ•ˆæœ</figcaption></figure><p>â€ƒâ€ƒå› ä¸ºæˆ‘è¿™é‡Œçˆ¬å–çš„åŒ¹é…ç»“æœä¸º2,æ‰€ä»¥æˆ‘å°±ä¼šå†æ‹¼æ¥ä¸€æ¡ &quot;# mdåˆ†å‰²-ä¸‹ä¸€ç¯‡<code>\\n\\n</code>&quot;ã€‚</p><p>â€ƒâ€ƒæ³¨æ„: è¿™é‡Œä¸æ˜¯å› ä¸º fields.szie = 2,æ‰€ä»¥æ‰å¯¼å‡º2ä¸ªçš„,æ˜¯å› ä¸ºä½ æ‰€é…ç½®çš„è§„åˆ™åŒ¹é…åçš„å†…å®¹ç»“æœä¸º2ã€‚</p><p>â€ƒâ€ƒæœ‰å¯èƒ½ä½ é…ç½®çš„è§„åˆ™æ²¡æœ‰åŒ¹é…åˆ°å†…å®¹</p><p>â€ƒâ€ƒæˆ–è€…</p><p>â€ƒâ€ƒé…ç½® ä¸€ä¸ªè§„åˆ™å´å¯ä»¥å‡ºç°å¤šä¸ªæ‹¼æ¥</p>',13),Mn={href:"https://gitee.com/zjydzyjs/spring-boot-use-case-collection/blob/master/webmagic/src/main/java/com/blacktea/webmagic/demo/util/WebMagicUtil.java",target:"_blank",rel:"noopener noreferrer"},An=n("strong",null,"csdnProcess",-1),Rn=n("p",null,[s("â€ƒâ€ƒ"),n("code",null,"all ä¸ºfalse"),s(",å³ä¸ºç¬¦åˆå½“å‰è¿™æ¡fieldè§„åˆ™çš„æœ€å¤šåªå–ä¸€æ¡,ä¹Ÿå°±æ˜¯ä¸€ä¸ªåŒ¹é…ç»“æœ[0]æ‹¼æ¥index=0,")],-1),Un=n("p",null,[s("â€‹â€ƒâ€ƒtrue,å–å‡ºæ‰€æœ‰,ä¹Ÿå°±æ˜¯ä¸€ä¸ªåŒ¹é…ç»“æœ"),n("code",null,"[size]"),s(",å¾ªç¯å¤šä¸ªæ‹¼æ¥ã€‚")],-1),Wn=n("h2",{id:"_2-é€šç”¨è¯¦æƒ…é¡µå¯¼å‡ºzip",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2-é€šç”¨è¯¦æƒ…é¡µå¯¼å‡ºzip","aria-hidden":"true"},"#"),s(" 2. é€šç”¨è¯¦æƒ…é¡µå¯¼å‡ºzip")],-1),Nn=n("h3",{id:"_2-1-swaggerä¸‹è½½zip",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2-1-swaggerä¸‹è½½zip","aria-hidden":"true"},"#"),s(" 2.1 swaggerä¸‹è½½zip")],-1),In={href:"http://localhost:8000/swagger-ui.html#!/ProTestController/exportCSDNMdUsingPOST",target:"_blank",rel:"noopener noreferrer"},Gn={href:"http://localhost:8000/pro/item/export/zip",target:"_blank",rel:"noopener noreferrer"},Bn=p(`<p>â€‹ post,application/json</p><h3 id="_2-2-json" tabindex="-1"><a class="header-anchor" href="#_2-2-json" aria-hidden="true">#</a> 2.2 json</h3><p>â€ƒâ€ƒCSDNç¤ºä¾‹</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;fileName&quot;</span><span class="token operator">:</span><span class="token string">&quot;imgä¸‹è½½æµ‹è¯•.zip&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;itemPageUrl&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://blog.csdn.net/weixin_43917143/article/details/120436445&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
          <span class="token punctuation">{</span><span class="token property">&quot;key&quot;</span><span class="token operator">:</span><span class="token string">&quot;images&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;//*[@id=\\&quot;article_content\\&quot;]//*//img&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;XPath&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;fileType&quot;</span><span class="token operator">:</span><span class="token string">&quot;PNG&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span><span class="token property">&quot;key&quot;</span><span class="token operator">:</span><span class="token string">&quot;icons&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;//div[@class=\\&quot;mouse-box\\&quot;]//img&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;XPath&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;fileType&quot;</span><span class="token operator">:</span><span class="token string">&quot;PNG&quot;</span><span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€ƒâ€ƒè¿™é‡Œå»ºè®®ä½¿ç”¨postmanè¿›è¡Œæµ‹è¯•,postmanå¯ä»¥å°†æœ€ç»ˆç»“æœæ–‡ä»¶æµä¿å­˜ä¸ºzipæ–‡ä»¶</p><h6 id="_2-3-æ•ˆæœ" tabindex="-1"><a class="header-anchor" href="#_2-3-æ•ˆæœ" aria-hidden="true">#</a> 2.3 æ•ˆæœ</h6><figure><img src="`+w+'" alt="è¯¦æƒ…zipä¸‹è½½æ•ˆæœ" tabindex="0" loading="lazy"><figcaption>è¯¦æƒ…zipä¸‹è½½æ•ˆæœ</figcaption></figure><h2 id="_3-é€šç”¨åˆ—è¡¨é¡µè·å–è¯¦æƒ…é¡µè¿›è¡Œzipå¯¼å‡º" tabindex="-1"><a class="header-anchor" href="#_3-é€šç”¨åˆ—è¡¨é¡µè·å–è¯¦æƒ…é¡µè¿›è¡Œzipå¯¼å‡º" aria-hidden="true">#</a> 3. é€šç”¨åˆ—è¡¨é¡µè·å–è¯¦æƒ…é¡µè¿›è¡Œzipå¯¼å‡º</h2><h3 id="_3-1ä¸‹è½½åœ°å€" tabindex="-1"><a class="header-anchor" href="#_3-1ä¸‹è½½åœ°å€" aria-hidden="true">#</a> 3.1ä¸‹è½½åœ°å€</h3>',9),Fn={href:"http://localhost:8000/pro/list/export/zip",target:"_blank",rel:"noopener noreferrer"},On=p(`<p>â€‹â€ƒâ€ƒpost,application/json</p><h3 id="_3-2-è¯·æ±‚å‚æ•°json" tabindex="-1"><a class="header-anchor" href="#_3-2-è¯·æ±‚å‚æ•°json" aria-hidden="true">#</a> 3.2 è¯·æ±‚å‚æ•°json</h3><p>â€‹â€ƒâ€ƒCSDNç¤ºä¾‹:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;fileName&quot;</span><span class="token operator">:</span><span class="token string">&quot;xxx.zip&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;helpUrl&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://blog.csdn.net/weixin_43917143&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;targetUrl&quot;</span><span class="token operator">:</span><span class="token string">&quot;(https://blog\\\\.csdn\\\\.net/weixin_43917143/article/details/\\\\w+)&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span><span class="token property">&quot;key&quot;</span><span class="token operator">:</span><span class="token string">&quot;md&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;//*[@id=\\&quot;article_content\\&quot;]/[@id=\\&quot;content_views\\&quot;]&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;XPath&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;fileType&quot;</span><span class="token operator">:</span><span class="token string">&quot;MD&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token property">&quot;key&quot;</span><span class="token operator">:</span><span class="token string">&quot;images&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;//*[@id=\\&quot;article_content\\&quot;]//*//img&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;XPath&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;fileType&quot;</span><span class="token operator">:</span><span class="token string">&quot;PNG&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token property">&quot;key&quot;</span><span class="token operator">:</span><span class="token string">&quot;icons&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;//div[@class=\\&quot;mouse-box\\&quot;]//img&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;XPath&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;fileType&quot;</span><span class="token operator">:</span><span class="token string">&quot;PNG&quot;</span><span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€‹â€ƒâ€ƒç®€ä¹¦ç¤ºä¾‹:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;fileName&quot;</span><span class="token operator">:</span><span class="token string">&quot;ç®€ä¹¦-xxx.zip&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;helpUrl&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://www.jianshu.com/u/7dcee71ee038&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;targetUrl&quot;</span><span class="token operator">:</span><span class="token string">&quot;(https://www\\\\.jianshu\\\\.com/p/\\\\w+)&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span><span class="token property">&quot;key&quot;</span><span class="token operator">:</span><span class="token string">&quot;md&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;//div[@class=\\&quot;_gp-ck\\&quot;]/section[@class=\\&quot;ouvjEz\\&quot;][1]&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;XPath&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;fileType&quot;</span><span class="token operator">:</span><span class="token string">&quot;MD&quot;</span><span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-æ•ˆæœ" tabindex="-1"><a class="header-anchor" href="#_3-3-æ•ˆæœ" aria-hidden="true">#</a> 3.3 æ•ˆæœ</h3><p>CSDNæ•ˆæœ:</p><figure><img src="`+y+'" alt="åˆ—è¡¨zipä¸‹è½½æ•ˆæœ" tabindex="0" loading="lazy"><figcaption>åˆ—è¡¨zipä¸‹è½½æ•ˆæœ</figcaption></figure>',9);function Vn(Xn,$n){const a=l("ExternalLinkIcon");return o(),c("div",null,[f,q,S,n("p",null,[s("â€ƒâ€ƒ"),n("a",C,[s("WebMagicæ˜¯ä¸€ä¸ªç®€å•çµæ´»çš„Javaçˆ¬è™«æ¡†æ¶ã€‚åŸºäºWebMagicï¼Œä½ å¯ä»¥å¿«é€Ÿå¼€å‘å‡ºä¸€ä¸ªé«˜æ•ˆã€æ˜“ç»´æŠ¤çš„çˆ¬è™«ã€‚"),t(a)])]),x,j,P,T,H,n("p",null,[s("â€ƒâ€ƒæ‰€ä»¥æˆ‘é€šè¿‡"),n("a",D,[s("WebMagic"),t(a)]),s("è¿›è¡Œçˆ¬å–æˆ‘æ”¾ç½®åœ¨å…¶ä»–ç½‘ç«™çš„åšå®¢å†è¿›è¡Œä¸Šä¼ ã€‚")]),E,n("blockquote",null,[z,L,M,A,R,U,n("p",null,[s("å…¶ä»– å‚è€ƒ"),n("a",W,[s("pom"),t(a)])])]),N,n("p",null,[s("â€ƒâ€ƒ Giteeåœ°å€ï¼š"),n("a",I,[s("https://gitee.com/zjydzyjs/spring-boot-use-case-collection/tree/master/webmagic"),t(a)])]),G,B,n("p",null,[s("â€ƒâ€ƒ"),n("a",F,[s("webmagicå®˜ç½‘"),t(a)])]),n("p",null,[s("â€ƒâ€ƒ"),n("a",O,[s("webmagicè¯¦æƒ…æ–‡æ¡£"),t(a)])]),n("p",null,[s("â€ƒâ€ƒè¿™é‡Œè¯´ä¸€ä¸‹æˆ‘çš„æ„Ÿæ…¨,webmagicçš„ä½œè€…æ˜¯çœŸå‰å®³,ä»–å†å®˜æ–¹ä¸Šä¹Ÿè¯´äº†,è¯¥æ¡†æ¶æ˜¯ä»–è‡ªå·±ä¸šä½™å¼€å‘,è¿™ä¸ªç²¾ç¥å€¼å¾—ä½©æœ,åœ¨æ­¤æ„Ÿè°¢ä½œè€…("),n("a",V,[s("Yihua Huang"),t(a)]),s(");")]),X,n("p",null,[s("â€ƒâ€ƒä½ ç›´æ¥é€šè¿‡é€šè¿‡ä»¥ä¸‹ç”¨ä¾‹è¿›è¡Œè°ƒç”¨å°±å¯ä»¥æµ‹è¯•äº†,åœ¨ç±»"),n("a",$,[s("{@link com.blacktea.webmagic.demo.WebMagicTest}"),t(a)]),s("é‡Œ,")]),J,n("p",null,[s("â€ƒâ€ƒäºæ˜¯æˆ‘å°±åœ¨githubçš„"),n("a",Y,[s("issues"),t(a)]),s("æ‰¾åˆ°äº†è¯¥é—®é¢˜ï¼")]),K,n("p",null,[s("â€ƒâ€ƒå®ç°ï¼Œå¾—åˆ°**"),n("a",Q,[s("MyHttpClientGenerator"),t(a)]),Z,n("a",nn,[s("MyHttpClientDownloader"),t(a)]),s("**ã€‚")]),sn,n("ol",null,[an,n("li",null,[n("p",null,[s("å†æ¬¡æ‰§è¡Œ"),n("a",tn,[pn,t(a)]),s("ï¼š")]),en])]),on,n("p",null,[s("â€ƒâ€ƒå½“å‰ç‰ˆæœ¬é€šè¿‡webmagicå®ç°ä¸‰ä¸ª"),n("a",cn,[s("æ¥å£"),t(a)]),s("ï¼Œå¯å®ç°ä¸‰ä¸ªé€šç”¨åŠŸèƒ½ã€‚")]),ln,n("table",null,[un,n("tbody",null,[kn,rn,dn,mn,vn,bn,gn,n("tr",null,[hn,wn,yn,n("td",null,[s("fields[index].typeå±æ€§,ä¸Field.valueè¿›è¡Œç»„åˆä½¿ç”¨,å½“å‰æ”¯æŒ ['XPath', 'Regex', 'Css', 'JsonPath']ï¼Œæ˜¯å¯¹webmagi{@link us.codecraft.webmagic.model.annotation.Type}å¾—å¤ç”¨ï¼Œ"),n("a",_n,[s("æºç "),t(a)]),s("ä¸‹å¾—"),fn,s("()æ–¹æ³•")])]),n("tr",null,[qn,Sn,Cn,n("td",null,[s("fields[index].fileTypeå±æ€§,æ˜¯å¯¹è¿›è¡ŒåŒ¹é…åå¾—åˆ°ç»“æœæ•°æ®æŒ‰ç…§ç±»å‹è¿›è¡Œå¤„ç†,"),n("a",xn,[s("æºç "),t(a)]),s("ä¸‹å¾—"),jn,s("()æ–¹æ³•")])])])]),Pn,n("p",null,[n("a",Tn,[s("WebMagicUtil."),Hn,s("()"),t(a)])]),Dn,n("p",null,[s("â€ƒâ€ƒä½¿ç”¨swagger-uiè¿›è¡Œmdæ–‡ä»¶ä¸‹è½½,"),n("a",En,[s("åœ°å€"),t(a)]),s(" -> "),n("a",zn,[s("http://localhost:8000/pro/item/export/md"),t(a)])]),Ln,n("p",null,[s("â€ƒâ€ƒå¤šä¸ªæ‹¼æ¥("),n("a",Mn,[s("å¤šä¸ªæ ¹æ®WebMagicUtil."),An,s("()çš„allå‚æ•°å†³å®š"),t(a)]),s(")ä¹Ÿæ˜¯æœ‰å¯èƒ½çš„!")]),Rn,Un,Wn,Nn,n("p",null,[s("â€‹â€ƒâ€ƒä½¿ç”¨swagger-uiè¿›è¡Œzipæ–‡ä»¶ä¸‹è½½,"),n("a",In,[s("åœ°å€"),t(a)]),s(" -> "),n("a",Gn,[s("http://localhost:8000/pro/item/export/zip"),t(a)])]),Bn,n("p",null,[s("â€‹â€ƒâ€ƒ"),n("a",Fn,[s("http://localhost:8000/pro/list/export/zip"),t(a)])]),On])}const Yn=e(_,[["render",Vn],["__file","SpringBootæ•´åˆWebMagic.html.vue"]]);export{Yn as default};
